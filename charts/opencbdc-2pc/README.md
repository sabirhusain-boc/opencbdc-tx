# opencbdc-2pc

![Version: 0.0.1](https://img.shields.io/badge/Version-0.0.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square)

A Helm chart to install opencbdc two-phase commit architecture

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| clusters | list | `[]` | Similar to `currentCluster`, this is used when deploying multiple releases to multiple Kubernetes clusters where OpenCBDC components need to communicate. This feature assists with spreading RAFT members across clusters. Clusters list must be similar to: ```[{"name": "<cluster-name>", "namespace": "<opencbdc-namespace>"}]``` |
| config.basePath | string | `"/opt/tx-processor/build/src/uhs/twophase"` |  |
| config.defaultLogLevel | string | `"INFO"` |  |
| config.extraOptions | object | `{"attestation_threshold":"0"}` | If set to `true` there will be a shared `Service` for each component. E.g. coordinators will all have the same service in front of them. If set to `false` then each coordinator will have it's own service resource. |
| config.loadGenerators.count | int | `1` |  |
| config.loadGenerators.enabled | bool | `false` |  |
| config.raftMountPath | string | `"/usr/share/opencbdc/raft"` |  |
| configMap.mountPath | string | `"/usr/share/config"` |  |
| configMap.name | string | `"opencbdc-config"` |  |
| coordinators.count | int | `1` |  |
| coordinators.delayStart.enabled | bool | `false` |  |
| coordinators.delayStart.sleepTime | int | `30` |  |
| coordinators.endpoints.main.port | int | `7777` |  |
| coordinators.endpoints.raft.port | int | `7778` |  |
| coordinators.replicas | int | `1` |  |
| coordinators.resources | object | `{}` |  |
| currentCluster | string | `nil` | This is used when deploying to multiple Kubernetes clusters. Since OpenCBDC RAFT clusters often need to be spread across regions this provides the ability to only render/apply the specific RAFT members for this Kubernetes cluster. When using this feature it is required that values for component count and replicas need to be the same for each helm release in each cluster. |
| enableClient | bool | `false` | Creates a Pod with the OpenCBDC Image that is used to run `kubectl exec` commands on for debugging and testing the whole system. This is helpful to test `client-cli` commands for minting and sending specifically. |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"ghcr.io/mit-dci/opencbdc-tx"` |  |
| image.tag | string | `"latest"` |  |
| nodeSelector | object | `{}` |  |
| sentinels.count | int | `1` |  |
| sentinels.delayStart.enabled | bool | `false` |  |
| sentinels.delayStart.sleepTime | int | `60` |  |
| sentinels.endpoints.main.port | int | `5555` |  |
| sentinels.resources | object | `{}` |  |
| serviceAccount.annotations | object | `{}` |  |
| serviceAccount.create | bool | `true` |  |
| serviceAccount.name | string | `""` |  |
| shards.count | int | `1` |  |
| shards.delayStart.enabled | bool | `false` |  |
| shards.delayStart.sleepTime | int | `0` |  |
| shards.endpoints.main.port | int | `6666` |  |
| shards.endpoints.raft.port | int | `6667` |  |
| shards.endpoints.readonly.port | int | `6767` |  |
| shards.replicas | int | `1` |  |
| shards.resources | object | `{}` |  |
| shards.seeding.enabled | bool | `false` |  |
| shards.seeding.seedCount | string | `"100000000"` |  |
| shards.seeding.seedPrivateKey | string | `nil` |  |
| shards.seeding.seedSHA | string | `""` |  |
| shards.seeding.seedValue | string | `"1000000"` |  |
| shards.seeding.source.provider | string | `"s3"` |  |
| shards.seeding.source.providerConfig.bucketName | string | `nil` |  |
| shards.seeding.source.providerConfig.bucketRegion | string | `nil` |  |
| shards.seeding.source.providerConfig.image.pullPolicy | string | `"IfNotPresent"` |  |
| shards.seeding.source.providerConfig.image.repository | string | `"amazon/aws-cli"` |  |
| shards.seeding.source.providerConfig.image.tag | string | `"latest"` |  |
| shards.seeding.source.providerConfig.objectPrefix | string | `""` |  |
| sharedServices | bool | `true` | If set to `true`, each role will share a `Service` with it's peers. Otherwise, a unique `Service` object will be created for each `StatefulSet`. |
| tolerations | object | `{}` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.7.0](https://github.com/norwoodj/helm-docs/releases/v1.7.0)
